import{A as b,B as f}from"./Breadcrumb-8d068d6b.js";import{A,a as S,u as k}from"./AppVideos-c4ac1055.js";import{a as y}from"./AppContent-0870835a.js";import{r as a,o,c as i,d as r,b as n,F as _,h as B,g as c,v as p,j as x,w as L,t as V,p as I,f as j,_ as D,m as H,q as N}from"./index-af595f31.js";import{u as R}from"./index-562910d1.js";const T=e=>(I("data-v-324f3511"),e=e(),j(),e),C={class:"reviews"},F={key:0,class:"reviews__content"},M=["src","alt","onLoad"],q={class:"review__title"},E={key:1,class:"reviews__content"},Q=T(()=>n("p",null,"No videos",-1)),$=[Q];function z(e,l,J,K,t,g){const d=a("AppHeader"),u=a("Breadcrumb"),h=a("AppPreloader"),m=a("RouterLink"),v=a("AppPagination"),w=a("a-back-top");return o(),i(_,null,[r(d,{currentIndex:0}),r(u,{class:"breadcrumb",arr:t.breadcrumbArr,title:t.tag},null,8,["arr","title"]),n("main",C,[t.reviews.length?(o(),i("div",F,[(o(!0),i(_,null,B(g.paginatedData,(s,P)=>(o(),x(m,{class:"review",key:P,to:`/videos/${s.id}`},{default:L(()=>[c(r(h,null,null,512),[[p,!s.imageShow]]),c(n("img",{class:"review__image",src:t.thumbnail(s.video),alt:s.title,onLoad:O=>s.imageShow=!0},null,40,M),[[p,s.imageShow]]),n("p",q,V(s.title),1)]),_:2},1032,["to"]))),128))])):(o(),i("div",E,$)),c(r(v,{reviews:t.reviews,totalPages:t.totalPages},null,8,["reviews","totalPages"]),[[p,t.reviews.length]])]),r(w)],64)}const G={name:"ReviewsView",components:{AppHeader:b,AppVideos:A,AppPreloader:y,AppPagination:S,Breadcrumb:f},inject:["json"],data(){return{tag:this.$route.params.tag,reviews:this.json.filter(e=>e.type=="review").filter(e=>e.tags.includes(this.$route.params.tag)),page:1,perPage:20,totalPages:1,gotoNumber:"",isLargeScreen:R("(min-width: 1024px)"),thumbnail:H,breadcrumbArr:[{title:"Home",link:"/"}]}},computed:{paginatedData(){return this.reviews.slice((this.page-1)*this.perPage,this.page*this.perPage)},...N(k)},created(){console.log(this.reviews.length),this.perPage=this.isLargeScreen?20:6,this.totalPages=Math.ceil(this.reviews.length/this.perPage),this.pageStore.currentPage=1,this.pageStore.$subscribe((e,l)=>{this.page=l.currentPage})}},ee=D(G,[["render",z],["__scopeId","data-v-324f3511"]]);export{ee as default};
