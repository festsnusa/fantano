import{o as h,c as m,a as I,_ as w,r as u,b as d,t as y,d as i,w as b,F as k,e as A,f as g,g as E,h as R,v,p as L,i as B,j as C}from"./index-06dd93b4.js";import{g as U,A as N,B as S,j as _}from"./main-channel-eb3dcf05.js";import{A as $}from"./AppPreloader-dd9758cf.js";const V="/assets/vk-b764f8fc.png",j={class:"footer"},F=I('<ul class="list" data-v-0f2d1c87><a href="https://vk.com/mbdtfisstill6" target="_blank" data-v-0f2d1c87><li class="item" data-v-0f2d1c87><img class="image" src="'+V+'" data-v-0f2d1c87></li></a></ul><p class="text" data-v-0f2d1c87>Copyright Â© 2023 The Needle Drop</p>',2),x=[F];function P(o,s,n,r,t,e){return h(),m("footer",j,x)}const D={name:"AppFooter"},H=w(D,[["render",P],["__scopeId","data-v-0f2d1c87"]]),O={class:"header"},T={class:"header__title"},Q={class:"content"},Y=["src","alt","onLoad"],z={class:"content__title"};function Z(o,s,n,r,t,e){const c=u("a-button"),a=u("RouterLink"),l=u("AppPreloader");return h(),m(k,null,[d("div",O,[d("h2",T,y(n.title),1),i(a,{to:`/${n.link}`},{default:b(()=>[i(c,{type:"dashed"},{default:b(()=>[R("Show all")]),_:1})]),_:1},8,["to"])]),d("div",Q,[(h(!0),m(k,null,A(n.arr,(p,f)=>g((h(),E(a,{class:"content__element",to:`/videos/${p.id}`},{default:b(()=>[g(i(l,null,null,512),[[v,!p.imageShow]]),g(d("img",{class:"content__image",src:t.thumbnail(p.video),alt:p.title,onLoad:oe=>p.imageShow=!0},null,40,Y),[[v,p.imageShow]]),d("p",z,y(p.title),1)]),_:2},1032,["to"])),[[v,f<5]])),256))])],64)}const q={name:"HomeBlock",props:["title","link","arr"],components:{AppPreloader:$},data(){return{thumbnail:U}}},M=w(q,[["render",Z],["__scopeId","data-v-3980dcbf"]]),W=o=>(L("data-v-f93ecb3b"),o=o(),B(),o),G={class:"reviews"},X={class:"wtr"},J={class:"ynr"},K=W(()=>d("div",{class:"list-week"},null,-1));function ee(o,s,n,r,t,e){const c=u("AppHeader"),a=u("Breadcrumb"),l=u("HomeBlock"),p=u("AppFooter"),f=u("a-back-top");return h(),m(k,null,[i(c),i(a,{class:"breadcrumb",title:"Home"}),d("main",null,[d("div",G,[i(l,{title:"REVIEWS",link:"videos",arr:t.reviews},null,8,["arr"])]),d("div",X,[i(l,{title:"WTRs",link:"wtr",arr:t.wtr},null,8,["arr"])]),d("div",J,[i(l,{title:"YUNOREVIEWS",link:"ynr",arr:t.ynr},null,8,["arr"])]),K]),i(p),i(f)],64)}const te={name:"HomeView",components:{AppHeader:N,Breadcrumb:S,AppFooter:H,HomeBlock:M,AppPreloader:$},data(){return{reviews:_.filter(o=>o.type=="review").slice(0,5),wtr:_.filter(o=>o.type=="weekly").slice(0,5),ynr:_.filter(o=>o.type=="YUNOREVIEW").slice(0,5)}},methods:{async fetchLastFm(o,s,n,r){fetch(`http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=${s}&artist=${n}&album=${r}&format=json`).then(t=>t.json()).catch(t=>{}).then(t=>{const e=t.album;if(!Array.isArray(e.tags.tag))return;let c=e.tags.tag.map(a=>a.name);return console.log(o,c),c}).catch(t=>{})},splitMarkdownParagraphs(o){o=o.replace(/\r/g,"");const s=o.split(/\n\s*\n|\n/);let n=[];return s.forEach(r=>{let t=r.split(" / "),e={};e.id=t[0],e.tags=t[1],n.push(e)}),n},getSpotifyLink(o,s,n){const r="BQAiQiePpzG8UOZMRMBJbbeED1S7WgZCJg2ZmXrxZvYRdLXJFbfjNIVTyOh7wb9eZn7Ub5B9NyJ6T8z3ogXRAXZvCQG2bd7UnSFtiAmPiIjAIP0hGqyt68cQiaun7BDzV_5BDQOoWOrPin5tXyMltoB9Ed05OcNyY2b2qR72lz1iDWesxHJCTrRt2OEAIZgEzo6uonrNcG5ciR11lHrh_NowudIRMuG9Gye7tZ62ZQxJIZupbwwQ5e-ElC0W_1d7wqYOfp6VtfgVazX8UPi5YhCB",t=`album:${encodeURIComponent(s)} artist:${encodeURIComponent(n)}`;fetch(`https://api.spotify.com/v1/search?q=${t}&type=album`,{headers:{Authorization:`Bearer ${r}`}}).then(e=>e.json()).then(e=>{const c=e.albums.items;if(c.length>0){const l=c[0].external_urls.spotify;console.log([o,l])}else console.log("No album found with the specified title and artist")}).catch(e=>{console.error("Error retrieving album:",e)})},getAppleMusicLink(o,s,n){const r=`${s} ${n}`,t=`https://itunes.apple.com/search?term=${encodeURIComponent(r)}&entity=album&limit=1`;fetch(t).then(e=>e.json()).then(e=>{if(e.results&&e.results.length>0){const a=e.results[0].collectionViewUrl;console.log(a)}else return null}).catch(e=>(console.error("Error:",e),null))},getYouTubeLink(o,s,n){const r=`${s} ${n} album`,t="AIzaSyD8veGTCgXd1xMkSnd_yljDUFQk3edSFaM";fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(r)}&type=video&maxResults=10&key=${t}`).then(e=>e.json()).then(e=>{const c=e.items;if(c.length>0){const a=c.find(l=>l.snippet.title.toLowerCase().includes(s.toLowerCase()));if(a){const l=`https://www.youtube.com/watch?v=${a.id.videoId}`;console.log(l)}else console.log("No album found with the specified title and artist")}else console.log("No videos found with the specified title and artist")}).catch(e=>{console.error("Error retrieving album:",e)})},getBandcampLink(o,s,n){const t=`https://api.bandcamp.com/api/album/2/search?key=&q=${encodeURIComponent(s)}+${encodeURIComponent(n)}`;fetch(t).then(e=>e.json()).then(e=>{if(e.results.length>0){const a=e.results[0].url;console.log(a)}else console.log("No album found with the specified title and artist")}).catch(e=>{console.error("Error retrieving album:",e)})},getSoundcloudLink(o,s,n){const r="YOUR_CLIENT_ID",t=`https://api.soundcloud.com/tracks?q=${encodeURIComponent(s)}+${encodeURIComponent(n)}&client_id=${r}`;fetch(t).then(e=>e.json()).then(e=>{if(e.length>0){const a=e[0].permalink_url;console.log(a)}else console.log("No track found with the specified title and artist")}).catch(e=>{console.error("Error retrieving track:",e)})},getDeezerLink(o,s,n){const r=`https://api.deezer.com/search/album?q=${encodeURIComponent(s)}&artist=${encodeURIComponent(n)}`;fetch(r).then(t=>t.json()).then(t=>{if(t.data.length>0){const c=t.data[0].link;console.log(c)}else console.log("No album found with the specified title and artist")}).catch(t=>{console.error("Error retrieving album:",t)})},importFile(o){C(()=>import(o),[]).then(s=>{let n=s.default;this.loopArr(n)}).catch(s=>{console.log(s)})},loopArr(o){_.forEach(n=>{const r=n.albumTitle,t=n.artistName,e="5fa8f750d3b2ed959fd1a754a6bc7ca0";o.find(a=>a.id==n.id)||r==null||t==null||new Promise(a=>{setTimeout(()=>{this.fetchLastFm(n.id,e,t,r)},2e3)}).then(a=>{})})}},async created(){}},ae=w(te,[["render",ee],["__scopeId","data-v-f93ecb3b"]]);export{ae as default};
