import{g as x,A as L,B as S,j as _}from"./main-channel-fc1930d8.js";import{o as h,c as g,a as B,_ as y,r as u,b as i,t as $,d as l,w as b,F as k,e as I,f as w,g as E,h as U,v,p as H,i as C}from"./index-fc88faf6.js";import{A}from"./AppPreloader-623ed2a1.js";const T="/assets/vk-b764f8fc.png",N={class:"footer"},R=B('<ul class="list" data-v-0f2d1c87><a href="https://vk.com/mbdtfisstill6" target="_blank" data-v-0f2d1c87><li class="item" data-v-0f2d1c87><img class="image" src="'+T+'" data-v-0f2d1c87></li></a></ul><p class="text" data-v-0f2d1c87>Copyright Â© 2023 The Needle Drop</p>',2),V=[R];function W(e,r,t,o,s,n){return h(),g("footer",N,V)}const j={name:"AppFooter"},M=y(j,[["render",W],["__scopeId","data-v-0f2d1c87"]]),F={class:"header"},D={class:"header__title"},q={class:"content"},z=["src","alt","onLoad"],K={class:"content__title"};function P(e,r,t,o,s,n){const p=u("a-button"),d=u("RouterLink"),c=u("AppPreloader");return h(),g(k,null,[i("div",F,[i("h2",D,$(t.title),1),l(d,{to:`/${t.link}`},{default:b(()=>[l(p,{type:"dashed"},{default:b(()=>[U("Show all")]),_:1})]),_:1},8,["to"])]),i("div",q,[(h(!0),g(k,null,I(t.arr,(a,m)=>w((h(),E(d,{class:"content__element",to:`/videos/${a.id}`},{default:b(()=>[w(l(c,null,null,512),[[v,!a.imageShow]]),w(i("img",{class:"content__image",src:s.thumbnail(a.video),alt:a.title,onLoad:f=>a.imageShow=!0},null,40,z),[[v,a.imageShow]]),i("p",K,$(a.title),1)]),_:2},1032,["to"])),[[v,m<5]])),256))])],64)}const Q={name:"HomeBlock",props:["title","link","arr"],components:{AppPreloader:A},data(){return{thumbnail:x}}},O=y(Q,[["render",P],["__scopeId","data-v-3980dcbf"]]),G=e=>(H("data-v-5f3f62d2"),e=e(),C(),e),Y={class:"reviews"},Z={class:"wtr"},X={class:"ynr"},J=G(()=>i("div",{class:"list-week"},null,-1));function ee(e,r,t,o,s,n){const p=u("AppHeader"),d=u("Breadcrumb"),c=u("HomeBlock"),a=u("AppFooter"),m=u("a-back-top");return h(),g(k,null,[l(p),l(d,{class:"breadcrumb",title:"Home"}),i("main",null,[i("div",Y,[l(c,{title:"REVIEWS",link:"videos",arr:s.reviews},null,8,["arr"])]),i("div",Z,[l(c,{title:"WTRs",link:"wtr",arr:s.wtr},null,8,["arr"])]),i("div",X,[l(c,{title:"YUNOREVIEWS",link:"ynr",arr:s.ynr},null,8,["arr"])]),J]),l(a),l(m)],64)}const te={name:"HomeView",components:{AppHeader:L,Breadcrumb:S,AppFooter:M,HomeBlock:O,AppPreloader:A},data(){return{reviews:_.filter(e=>e.type=="review").slice(0,5),wtr:_.filter(e=>e.type=="weekly").slice(0,5),ynr:_.filter(e=>e.type=="YUNOREVIEW").slice(0,5)}},methods:{async fetchLastFm(e,r,t){fetch(`http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=9be755d7287c977402ce830fc6b09896&artist=${encodeURIComponent(r)}&album=${encodeURIComponent(t)}&format=json`).then(s=>s.json()).catch(s=>{console.error("Error:",s)}).then(s=>{const n=s.album;if(!Array.isArray(n.tags.tag))return;let p=n.tags.tag.map(d=>d.name);console.log(e,p)}).catch(s=>{console.error("Error:",s)})},splitMarkdownParagraphs(e){const r=e.split(/\n\s*\n|\n/);let t=[];return r.forEach(o=>{let s=o.split(" / "),n={};n.id=s[0],n.tags=s[1],t.push(n)}),t},getSpotifyLink(e,r,t){const o="BQBAspwrTtcoSz8Q3eFdU0bWP-ayX-TuV-sMLh-baVdxzFO5iwIB_DLrrFvuF6qg-LRLjXUDmgSCEtqSGbVLepJY9xi7ie6WHZ8-4nxoZzYb1PeL3I7Zwr6DLI0Q7QeN-UPyj3ga2vYgbtDnOp4UzVH56Sh6v2ahvgC-qu0CwANaG5t065zeovXlBNbgTkOiDqQiM61h1wjAmL5TC7_IivBMZx3ihbAYphU5cZikq_Kjvn6bZiWgQ2Gj3Sip9tiKE9U-GBrqAkoWRiDvHINlu6Bw",s=`album:${encodeURIComponent(r)} artist:${encodeURIComponent(t)}`;fetch(`https://api.spotify.com/v1/search?q=${s}&type=album`,{headers:{Authorization:`Bearer ${o}`}}).then(n=>n.json()).then(n=>{const p=n.albums.items;if(p.length>0){const c=p[0].external_urls.spotify;console.log(e,c)}else console.log("No album found with the specified title and artist")}).catch(n=>{console.error("Error retrieving album:",n)})},getAppleMusicLink(){_.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const r=`${e.albumTitle} ${e.artistName}`,t=`https://itunes.apple.com/search?term=${encodeURIComponent(r)}&entity=album&limit=1`;fetch(t).then(o=>o.json()).then(o=>{if(o.results&&o.results.length>0){const n=o.results[0].collectionViewUrl;console.log(e.id,n)}else return null}).catch(o=>(console.error("Error:",o),null))})},pushAppleMusicLink(){_.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const r=AMLinks.filter(t=>t.id===e.id);if(r.length>0){let t={title:"AM",source:r[0].link};e.externalLinks.push(t)}}),console.log(_)},async getMediaLinks(e,r){try{const t=`site:rateyourmusic.com ${e} ${r}`,o=`https://www.google.com/search?q=${encodeURIComponent(t)}`,n=await(await fetch(o,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),c=new DOMParser().parseFromString(n,"text/html").querySelectorAll("div.g");if(!c.length)return[];const a=[];c.forEach(m=>{const f=m.querySelector("a").href;f&&f.includes("rateyourmusic.com")&&a.push(f)}),this.fetchData(a[0])}catch(t){return console.error("Error:",t.message),[]}},async fetchData(e){const t=await(await fetch(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),o=window.open();o.document.open(),o.document.write(t),o.document.close(),console.log(o.document.documentElement.textContent)}},async created(){}},re=y(te,[["render",ee],["__scopeId","data-v-5f3f62d2"]]);export{re as default};
