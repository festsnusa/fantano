import{g as A,A as I,B as L,j as u}from"./main-channel-6230cf4d.js";import{o as h,c as g,a as S,_ as y,r as m,b as i,t as $,d as l,w as b,F as k,e as B,f as w,g as E,h as U,v,p as C,i as R}from"./index-ae3e39da.js";import{A as x}from"./AppPreloader-5c602898.js";const H="/assets/vk-b764f8fc.png",T={class:"footer"},j=S('<ul class="list" data-v-0f2d1c87><a href="https://vk.com/mbdtfisstill6" target="_blank" data-v-0f2d1c87><li class="item" data-v-0f2d1c87><img class="image" src="'+H+'" data-v-0f2d1c87></li></a></ul><p class="text" data-v-0f2d1c87>Copyright Â© 2023 The Needle Drop</p>',2),V=[j];function W(e,n,o,s,t,r){return h(),g("footer",T,V)}const F={name:"AppFooter"},M=y(F,[["render",W],["__scopeId","data-v-0f2d1c87"]]),N={class:"header"},q={class:"header__title"},D={class:"content"},K=["src","alt","onLoad"],z={class:"content__title"};function P(e,n,o,s,t,r){const a=m("a-button"),p=m("RouterLink"),d=m("AppPreloader");return h(),g(k,null,[i("div",N,[i("h2",q,$(o.title),1),l(p,{to:`/${o.link}`},{default:b(()=>[l(a,{type:"dashed"},{default:b(()=>[U("Show all")]),_:1})]),_:1},8,["to"])]),i("div",D,[(h(!0),g(k,null,B(o.arr,(c,_)=>w((h(),E(p,{class:"content__element",to:`/videos/${c.id}`},{default:b(()=>[w(l(d,null,null,512),[[v,!c.imageShow]]),w(i("img",{class:"content__image",src:t.thumbnail(c.video),alt:c.title,onLoad:f=>c.imageShow=!0},null,40,K),[[v,c.imageShow]]),i("p",z,$(c.title),1)]),_:2},1032,["to"])),[[v,_<5]])),256))])],64)}const Q={name:"HomeBlock",props:["title","link","arr"],components:{AppPreloader:x},data(){return{thumbnail:A}}},O=y(Q,[["render",P],["__scopeId","data-v-3980dcbf"]]),G=e=>(C("data-v-3186bd3f"),e=e(),R(),e),Y={class:"reviews"},Z={class:"wtr"},X={class:"ynr"},J=G(()=>i("div",{class:"list-week"},null,-1));function ee(e,n,o,s,t,r){const a=m("AppHeader"),p=m("Breadcrumb"),d=m("HomeBlock"),c=m("AppFooter"),_=m("a-back-top");return h(),g(k,null,[l(a),l(p,{class:"breadcrumb",title:"Home"}),i("main",null,[i("div",Y,[l(d,{title:"REVIEWS",link:"videos",arr:t.reviews},null,8,["arr"])]),i("div",Z,[l(d,{title:"WTRs",link:"wtr",arr:t.wtr},null,8,["arr"])]),i("div",X,[l(d,{title:"YUNOREVIEWS",link:"ynr",arr:t.ynr},null,8,["arr"])]),J]),l(c),l(_)],64)}const te={name:"HomeView",components:{AppHeader:I,Breadcrumb:L,AppFooter:M,HomeBlock:O,AppPreloader:x},data(){return{reviews:u.filter(e=>e.type=="review").slice(0,5),wtr:u.filter(e=>e.type=="weekly").slice(0,5),ynr:u.filter(e=>e.type=="YUNOREVIEW").slice(0,5)}},methods:{async fetchLastFm(e,n,o){fetch(`http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=9be755d7287c977402ce830fc6b09896&artist=${encodeURIComponent(n)}&album=${encodeURIComponent(o)}&format=json`).then(t=>t.json()).catch(t=>(console.error("Error:",t),"")).then(t=>{let a=t.album.image;return a[a.length-1]["#text"]}).catch(t=>(console.error("Error:",t),""))},async fetchLastFmImages(e,n,o){await fetch(`http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=e44382d410187390db28095da14f7f98&artist=${encodeURIComponent(n)}&album=${encodeURIComponent(o)}&format=json`).then(t=>t.json()).catch(t=>{}).then(t=>{let a=t.album.image,p=a[a.length-1];console.log(e,p["#text"])}).catch(t=>{})},splitMarkdownParagraphs(e){const n=e.split(/\n\s*\n|\n/);let o=[];return n.forEach(s=>{let t=s.split(" / "),r={};r.id=t[0],r.tags=t[1],o.push(r)}),o},getSpotifyLink(e,n,o){const s="BQBAspwrTtcoSz8Q3eFdU0bWP-ayX-TuV-sMLh-baVdxzFO5iwIB_DLrrFvuF6qg-LRLjXUDmgSCEtqSGbVLepJY9xi7ie6WHZ8-4nxoZzYb1PeL3I7Zwr6DLI0Q7QeN-UPyj3ga2vYgbtDnOp4UzVH56Sh6v2ahvgC-qu0CwANaG5t065zeovXlBNbgTkOiDqQiM61h1wjAmL5TC7_IivBMZx3ihbAYphU5cZikq_Kjvn6bZiWgQ2Gj3Sip9tiKE9U-GBrqAkoWRiDvHINlu6Bw",t=`album:${encodeURIComponent(n)} artist:${encodeURIComponent(o)}`;fetch(`https://api.spotify.com/v1/search?q=${t}&type=album`,{headers:{Authorization:`Bearer ${s}`}}).then(r=>r.json()).then(r=>{const a=r.albums.items;if(a.length>0){const d=a[0].external_urls.spotify;console.log(e,d)}else console.log("No album found with the specified title and artist")}).catch(r=>{console.error("Error retrieving album:",r)})},getAppleMusicLink(){u.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const n=`${e.albumTitle} ${e.artistName}`,o=`https://itunes.apple.com/search?term=${encodeURIComponent(n)}&entity=album&limit=1`;fetch(o).then(s=>s.json()).then(s=>{if(s.results&&s.results.length>0){const r=s.results[0].collectionViewUrl;console.log(e.id,r)}else return null}).catch(s=>(console.error("Error:",s),null))})},pushAppleMusicLink(){u.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const n=AMLinks.filter(o=>o.id===e.id);if(n.length>0){let o={title:"AM",source:n[0].link};e.externalLinks.push(o)}}),console.log(u)},pushImages(){u.forEach(e=>{if(e.type=="review"||e.type=="TRACK REVIEW"){const n=LastFMImages.filter(o=>o.id===e.id);n.length>0&&(e.image=n[0].link)}}),console.log(u)},async getMediaLinks(e,n,o){try{const s=`site:music.apple.com ${n} ${o}`,t=`https://www.google.com/search?q=${encodeURIComponent(s)}`,a=await(await fetch(t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),c=new DOMParser().parseFromString(a,"text/html").querySelectorAll("div.g");if(!c.length)return[];const f=c[0].querySelector("a").href;f&&f.includes("apple")&&console.log(e,f)}catch(s){return console.error("Error:",s.message),[]}},async fetchData(e){const o=await(await fetch(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),s=window.open();s.document.open(),s.document.write(o),s.document.close(),console.log(s.document.documentElement.textContent)}},async created(){}},re=y(te,[["render",ee],["__scopeId","data-v-3186bd3f"]]);export{re as default};
