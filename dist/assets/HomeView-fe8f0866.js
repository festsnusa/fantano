import{g as A,A as L,B as S,j as d}from"./main-channel-8c553b1a.js";import{o as h,c as k,a as B,_ as y,r as m,b as r,t as $,d as c,w as f,F as v,e as I,f as g,g as E,h as U,v as w,p as H,i as C}from"./index-779b2462.js";import{A as x}from"./AppPreloader-2b999896.js";const T="/assets/vk-b764f8fc.png",j={class:"footer"},N=B('<ul class="list" data-v-0f2d1c87><a href="https://vk.com/mbdtfisstill6" target="_blank" data-v-0f2d1c87><li class="item" data-v-0f2d1c87><img class="image" src="'+T+'" data-v-0f2d1c87></li></a></ul><p class="text" data-v-0f2d1c87>Copyright Â© 2023 The Needle Drop</p>',2),R=[N];function V(e,n,s,t,o,l){return h(),k("footer",j,R)}const W={name:"AppFooter"},M=y(W,[["render",V],["__scopeId","data-v-0f2d1c87"]]),F={class:"header"},q={class:"header__title"},D={class:"content"},z=["src","alt","onLoad"],K={class:"content__title"};function P(e,n,s,t,o,l){const a=m("a-button"),p=m("RouterLink"),u=m("AppPreloader");return h(),k(v,null,[r("div",F,[r("h2",q,$(s.title),1),c(p,{to:`/${s.link}`},{default:f(()=>[c(a,{type:"dashed"},{default:f(()=>[U("Show all")]),_:1})]),_:1},8,["to"])]),r("div",D,[(h(!0),k(v,null,I(s.arr,(i,b)=>g((h(),E(p,{class:"content__element",to:`/videos/${i.id}`},{default:f(()=>[g(c(u,null,null,512),[[w,!i.imageShow]]),g(r("img",{class:"content__image",src:o.thumbnail(i.video),alt:i.title,onLoad:_=>i.imageShow=!0},null,40,z),[[w,i.imageShow]]),r("p",K,$(i.title),1)]),_:2},1032,["to"])),[[w,b<5]])),256))])],64)}const Q={name:"HomeBlock",props:["title","link","arr"],components:{AppPreloader:x},data(){return{thumbnail:A}}},O=y(Q,[["render",P],["__scopeId","data-v-3980dcbf"]]),G=[{id:313,link:"https://music.apple.com/us/album/helplessness-blues/425059566"},{id:562,link:"https://music.apple.com/jp/album/wreck/499459018?l=en"},{id:137,link:"https://music.apple.com/gb/album/lawless-darkness/584517560"},{id:630,link:"https://music.apple.com/us/song/theres-no-leaving-now/1258339481"},{id:308,link:"https://music.apple.com/us/album/oneirology/425210658"},{id:424,link:"https://music.apple.com/gb/album/talk-memory/1573107489"},{id:550,link:"https://music.apple.com/us/album/4eva-n-a-day/1579608283"},{id:693,link:"https://music.apple.com/us/album/nocturne/553227907"},{id:475,link:"https://music.apple.com/be/album/howl-of-the-lonely-crowd/438770001"},{id:673,link:"https://music.apple.com/us/album/gossamer/534798874"},{id:789,link:"https://music.apple.com/ne/album/the-odds/576827395"},{id:689,link:"https://music.apple.com/us/album/key-to-the-kuffs/1601489640"},{id:588,link:"https://music.apple.com/us/album/sinews/517022526"},{id:566,link:"https://music.apple.com/gb/album/noctourniquet/501235759"},{id:242,link:"https://music.apple.com/us/album/five-songs-ep/452963933"},{id:574,link:"https://music.apple.com/us/album/kill-for-love/630306478"},{id:801,link:"https://music.apple.com/us/album/bish-bosch/571979563"},{id:625,link:"https://music.apple.com/ie/album/celebration-rock/1651324003"},{id:276,link:"https://music.apple.com/us/album/fallen/416115499"},{id:179,link:"https://music.apple.com/login"},{id:675,link:"https://music.apple.com/us/album/no-idols/1683240350"},{id:420,link:"https://music.apple.com/gb/album/knife-man/453807921"},{id:481,link:"https://music.apple.com/us/album/undun/1440805652"},{id:853,link:"https://music.apple.com/us/album/heartthrob-deluxe-version/577318371"},{id:560,link:"https://music.apple.com/bw/album/narrow/494812131"},{id:568,link:"https://music.apple.com/us/album/koloss-exclusive-bonus-version/509917616"},{id:587,link:"https://music.apple.com/gb/album/blunderbuss/519241047"},{id:591,link:"https://music.apple.com/us/album/harmonicraft/510226725"},{id:773,link:"https://music.apple.com/gb/album/honor-found-in-decay/1286366439"},{id:697,link:"https://music.apple.com/au/album/autotheism/1650496657"},{id:631,link:"https://music.apple.com/us/album/kin/534529648"},{id:661,link:"https://music.apple.com/us/artist/holograms/526924914"},{id:791,link:"https://music.apple.com/us/album/instrumental-tourist/1602619859"},{id:794,link:"https://music.apple.com/gb/artist/macintosh-plus/1151952554"},{id:329,link:"https://music.apple.com/us/album/balkans/429233349"},{id:824,link:"https://music.apple.com/us/album/plastic-surgery-disasters-in-god-we-trust-inc/42263688"},{id:749,link:"https://music.apple.com/be/album/all-we-love-we-leave-behind-deluxe-edition/1485056582"},{id:1057,link:"https://music.apple.com/ch/playlist/denzel-curry-essentials/pl.20a6d85b7a92415f92decc600f20432f"},{id:819,link:"https://music.apple.com/us/album/silver-gold/571955371"},{id:672,link:"https://music.apple.com/gb/album/silencing-machine/1045516522"},{id:155,link:"https://music.apple.com/gb/album/le-noise/393066706"},{id:635,link:"https://music.apple.com/us/album/1999/1396290965"},{id:449,link:"https://music.apple.com/us/album/live-music/466649091"},{id:786,link:"https://music.apple.com/us/album/world-music/1059097823"},{id:166,link:"https://music.apple.com/login"}],Y=e=>(H("data-v-87ef5ee8"),e=e(),C(),e),Z={class:"reviews"},X={class:"wtr"},J={class:"ynr"},ee=Y(()=>r("div",{class:"list-week"},null,-1));function te(e,n,s,t,o,l){const a=m("AppHeader"),p=m("Breadcrumb"),u=m("HomeBlock"),i=m("AppFooter"),b=m("a-back-top");return h(),k(v,null,[c(a),c(p,{class:"breadcrumb",title:"Home"}),r("main",null,[r("div",Z,[c(u,{title:"REVIEWS",link:"videos",arr:o.reviews},null,8,["arr"])]),r("div",X,[c(u,{title:"WTRs",link:"wtr",arr:o.wtr},null,8,["arr"])]),r("div",J,[c(u,{title:"YUNOREVIEWS",link:"ynr",arr:o.ynr},null,8,["arr"])]),ee]),c(i),c(b)],64)}const se={name:"HomeView",components:{AppHeader:L,Breadcrumb:S,AppFooter:M,HomeBlock:O,AppPreloader:x},data(){return{reviews:d.filter(e=>e.type=="review").slice(0,5),wtr:d.filter(e=>e.type=="weekly").slice(0,5),ynr:d.filter(e=>e.type=="YUNOREVIEW").slice(0,5)}},methods:{async fetchLastFm(e,n,s){fetch(`http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=9be755d7287c977402ce830fc6b09896&artist=${encodeURIComponent(n)}&album=${encodeURIComponent(s)}&format=json`).then(o=>o.json()).catch(o=>{console.error("Error:",o)}).then(o=>{const l=o.album;if(!Array.isArray(l.tags.tag))return;let a=l.tags.tag.map(p=>p.name);console.log(e,a)}).catch(o=>{console.error("Error:",o)})},splitMarkdownParagraphs(e){const n=e.split(/\n\s*\n|\n/);let s=[];return n.forEach(t=>{let o=t.split(" / "),l={};l.id=o[0],l.tags=o[1],s.push(l)}),s},getSpotifyLink(e,n,s){const t="BQBAspwrTtcoSz8Q3eFdU0bWP-ayX-TuV-sMLh-baVdxzFO5iwIB_DLrrFvuF6qg-LRLjXUDmgSCEtqSGbVLepJY9xi7ie6WHZ8-4nxoZzYb1PeL3I7Zwr6DLI0Q7QeN-UPyj3ga2vYgbtDnOp4UzVH56Sh6v2ahvgC-qu0CwANaG5t065zeovXlBNbgTkOiDqQiM61h1wjAmL5TC7_IivBMZx3ihbAYphU5cZikq_Kjvn6bZiWgQ2Gj3Sip9tiKE9U-GBrqAkoWRiDvHINlu6Bw",o=`album:${encodeURIComponent(n)} artist:${encodeURIComponent(s)}`;fetch(`https://api.spotify.com/v1/search?q=${o}&type=album`,{headers:{Authorization:`Bearer ${t}`}}).then(l=>l.json()).then(l=>{const a=l.albums.items;if(a.length>0){const u=a[0].external_urls.spotify;console.log(e,u)}else console.log("No album found with the specified title and artist")}).catch(l=>{console.error("Error retrieving album:",l)})},getAppleMusicLink(){d.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const n=`${e.albumTitle} ${e.artistName}`,s=`https://itunes.apple.com/search?term=${encodeURIComponent(n)}&entity=album&limit=1`;fetch(s).then(t=>t.json()).then(t=>{if(t.results&&t.results.length>0){const l=t.results[0].collectionViewUrl;console.log(e.id,l)}else return null}).catch(t=>(console.error("Error:",t),null))})},pushAppleMusicLink(){d.forEach(e=>{if(e.type!=="review"||e.externalLinks.length>1)return;const n=G.filter(s=>s.id===e.id);if(n.length>0){let s={title:"AM",source:n[0].link};e.externalLinks.push(s)}}),console.log(d)},async getMediaLinks(e,n,s){try{const t=`site:music.apple.com ${n} ${s}`,o=`https://www.google.com/search?q=${encodeURIComponent(t)}`,a=await(await fetch(o,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),i=new DOMParser().parseFromString(a,"text/html").querySelectorAll("div.g");if(!i.length)return[];const _=i[0].querySelector("a").href;_&&_.includes("apple")&&console.log(e,_)}catch(t){return console.error("Error:",t.message),[]}},async fetchData(e){const s=await(await fetch(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36"}})).text(),t=window.open();t.document.open(),t.document.write(s),t.document.close(),console.log(t.document.documentElement.textContent)}},async created(){}},ie=y(se,[["render",te],["__scopeId","data-v-87ef5ee8"]]);export{ie as default};
