import{A as S,a as F}from"./AppFooter-584a8783.js";import{r as p,o as l,c,a as _,e as h,j as C,b as a,F as d,d as g,t as w,p as m,g as y,_ as x,f as I,w as V,v as f,n as L}from"./index-6e127ddb.js";import{A as D}from"./AppPreloader-a5e2b3a7.js";import{j as v}from"./main-channel-b73c72c1.js";const T=e=>(m("data-v-c00e3d43"),e=e(),y(),e),j={class:"search"},B=T(()=>a("option",{value:""},"Filter by year",-1)),H=["value"];function M(e,t,o,A,n,r){const u=p("font-awesome-icon");return l(),c("div",j,[_(u,{icon:["fas","magnifying-glass"]}),h(a("input",{class:"search__input",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>n.text=i),onInput:t[1]||(t[1]=i=>o.searchReview(n.text)),placeholder:"Search for a review..."},null,544),[[C,n.text]]),a("select",{class:"search__select",name:"select",onChange:t[2]||(t[2]=(...i)=>o.filter&&o.filter(...i))},[B,(l(!0),c(d,null,g(n.years,i=>(l(),c("option",{value:i},w(i),9,H))),256))],32)])}const q={name:"AppFilter",props:["filter","searchReview"],data(){return{text:"",years:[2023,2022,2021,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010]}}},E=x(q,[["render",M],["__scopeId","data-v-c00e3d43"]]),N=e=>(m("data-v-69f023da"),e=e(),y(),e),z={class:"reviews"},U={class:"reviews__left"},G=N(()=>a("div",{class:"reviews__header"},[a("span",{class:"reviews__title"},"Reviews")],-1)),J={class:"reviews__content"},K=["src","alt","onLoad"],O={class:"review__title"},Q={class:"reviews__right"},W={class:"pagination"},X=["onClick"];function Y(e,t,o,A,n,r){const u=p("AppHeader"),i=p("AppPreloader"),P=p("RouterLink"),b=p("AppFilter"),k=p("AppFooter");return l(),c(d,null,[_(u,{currentIndex:1}),a("div",z,[a("section",U,[G,a("div",J,[(l(!0),c(d,null,g(r.paginatedData,(s,R)=>(l(),I(P,{class:"review",key:R,to:`/review/${s.id}`},{default:V(()=>[h(_(i,null,null,512),[[f,!s.imageShow]]),h(a("img",{class:"review__image",src:r.getThumbnail(s.video),alt:s.title,onLoad:$=>s.imageShow=!0},null,40,K),[[f,s.imageShow]]),a("p",O,w(s.title),1)]),_:2},1032,["to"]))),128))])]),a("aside",Q,[_(b,{filter:r.filter,searchReview:r.searchReview},null,8,["filter","searchReview"])])]),a("div",W,[a("button",{class:"pagination__prev",onClick:t[0]||(t[0]=(...s)=>r.backPage&&r.backPage(...s))},"«"),(l(!0),c(d,null,g(Math.ceil(n.reviews.length/n.perPage),s=>(l(),c("button",{class:L(["pagination__button",{active:s==n.page}]),key:s,onClick:()=>r.goToPage(s)},w(s),11,X))),128)),a("button",{class:"pagination__next",onClick:t[1]||(t[1]=(...s)=>r.nextPage&&r.nextPage(...s))},"»")]),_(k)],64)}const Z={name:"ReviewsView",components:{AppHeader:S,AppFooter:F,AppFilter:E,AppPreloader:D},data(){return{reviews:v.filter(e=>e.type=="review"),page:1,perPage:15}},computed:{paginatedData(){return this.reviews.slice((this.page-1)*this.perPage,this.page*this.perPage)}},methods:{getThumbnail(e){return`http://img.youtube.com/vi/${this.getVideoID(e)}/0.jpg`},getVideoID(e){let t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,o=e.match(t);return o&&o[7].length==11?o[7]:!1},nextPage(){this.page!==Math.ceil(this.reviews.length/this.perPage)&&(this.page+=1)},backPage(){this.page!==1&&(this.page-=1)},goToPage(e){this.page=e},filter(){this.reviews=v.filter(t=>t.type=="review"),this.page=1;const e=document.querySelector(".search__select").value;e!=""&&(this.reviews=this.reviews.filter(t=>t.year==e))},searchReview(e){this.reviews=v.filter(t=>t.type=="review"),document.querySelector(".search__select").value="",e.length!=0&&(this.reviews=this.reviews.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())))}}},re=x(Z,[["render",Y],["__scopeId","data-v-69f023da"]]);export{re as default};
