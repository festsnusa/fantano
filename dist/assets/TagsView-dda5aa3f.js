import{A as S,B as f}from"./Breadcrumb-a5cb7e17.js";import{A as k,a as y,u as L}from"./AppVideos-d37a198c.js";import{a as B}from"./AppContent-b73456c1.js";import{r,o as i,c,d as n,b as p,F as u,j as x,i as _,v as d,k as C,w as T,t as V,p as I,f as D,_ as H,s as N,u as R}from"./index-8c61d7de.js";import{u as F}from"./index-dd7faccf.js";const M=e=>(I("data-v-35ceac0b"),e=e(),D(),e),j={class:"reviews"},E={key:0,class:"reviews__content"},Q=["src","alt","onLoad"],$={class:"review__title"},q={key:1,class:"reviews__content"},z=M(()=>p("p",null,"No videos",-1)),G=[z];function J(e,s,l,o,t,g){const h=r("AppHeader"),m=r("Breadcrumb"),v=r("AppPreloader"),w=r("RouterLink"),A=r("AppPagination"),P=r("a-back-top");return i(),c(u,null,[n(h,{currentIndex:0}),n(m,{class:"breadcrumb",arr:t.breadcrumbArr,title:t.tag},null,8,["arr","title"]),p("main",j,[t.reviews.length?(i(),c("div",E,[(i(!0),c(u,null,x(g.paginatedData,(a,b)=>(i(),C(w,{class:"review",key:b,to:`/videos/${a.id}`},{default:T(()=>[_(n(v,null,null,512),[[d,!a.imageShow]]),_(p("img",{class:"review__image",src:t.thumbnail(a.video),alt:a.title,onLoad:O=>a.imageShow=!0},null,40,Q),[[d,a.imageShow]]),p("p",$,V(a.title),1)]),_:2},1032,["to"]))),128))])):(i(),c("div",q,G)),_(n(A,{reviews:t.reviews,totalPages:t.totalPages},null,8,["reviews","totalPages"]),[[d,t.reviews.length]])]),n(P)],64)}const K={name:"ReviewsView",components:{AppHeader:S,AppVideos:k,AppPreloader:B,AppPagination:y,Breadcrumb:f},inject:["json"],data(){return{tag:this.$route.params.tag,reviews:this.json.filter(e=>e.type==="review"),page:1,perPage:20,totalPages:1,gotoNumber:"",isLargeScreen:F("(min-width: 1024px)"),thumbnail:N,breadcrumbArr:[{title:"Home",link:"/"}]}},computed:{paginatedData(){return this.reviews.slice((this.page-1)*this.perPage,this.page*this.perPage)},...R(L)},methods:{convertArrToLowerCase(e){const s="tags",l=e.map(o=>({...o,[s]:Array.isArray(o[s])?o[s].map(t=>t.toLowerCase()):o[s]}));return console.log(l),l}},created(){this.reviews=this.convertArrToLowerCase(this.reviews).filter(e=>e.tags.includes(this.$route.params.tag)),this.perPage=this.isLargeScreen?20:6,this.totalPages=Math.ceil(this.reviews.length/this.perPage),this.pageStore.currentPage=1,this.pageStore.$subscribe((e,s)=>{this.page=s.currentPage})}},ee=H(K,[["render",J],["__scopeId","data-v-35ceac0b"]]);export{ee as default};
